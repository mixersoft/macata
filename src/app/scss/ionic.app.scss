//  To customize the look and feel of Ionic, you can override the variables
//  in ionic's _variables.scss file.
//
//  For example, you might change some of the default colors:
//
//  $light:                           #fff !default;
//  $stable:                          #f8f8f8 !default;
//  $positive:                        #387ef5 !default;
//  $calm:                            #11c1f3 !default;
//  $balanced:                        #33cd5f !default;
//  $energized:                       #ffc900 !default;
//  $assertive:                       #ef473a !default;
//  $royal:                           #886aea !default;
//  $dark:                            #444 !default;


// The path for our ionicons font files, relative to the built CSS in www/css
$ionicons-font-path: '../lib/ionic/fonts' !default;

// Include all of Ionic
@import '../../../bower_components/ionic/scss/ionic';


.hide {
  display:none !important;
}

.pull-right {
  float:right;
}

.no-padding {
  padding: 0 !important;
}

.event-detail {
  .row, .col {
    padding: 0;
  }
}

.nowrap {
  white-space: nowrap !important;
}
.text-wrap {
  white-space: normal !important;
}
.fine {
  font-size: smaller;
  line-height: 1;
}

@media(min-width: $grid-responsive-sm-break) {
  .row-reverse-m {
    flex-direction: row-reverse;
  }
}

.rotate-90 {
    -moz-transform: rotateZ(90deg);
    -webkit-transform: rotateZ(90deg);
    -o-transform: rotateZ(90deg);
    -ms-transform: rotateZ(90deg);
    transform: rotateZ(90deg);
}

.item-divider .button {
  display: inline;
  top: 2px;
}


 // used by <new-tile>
.bar-inset-wrap {
  height: initial;
  display: block;
  .item-input-inset {
    padding-left: 0;
    @extend .padding-right;
    button.button:last-child {
      min-width: initial;
    }
  }
  &.bar-subheader {
    top: 44px;
    min-height: 44px;
    .item-input-inset {
      @extend .no-padding;
    }
  }
}
.item-stacked-label .input-label {
  @extend .padding-right;
  max-width: 100%;
  width: 100%;

}
.item-input.text-and-range {
  @extend .padding-right;
  .item-input-wrapper {
    position:relative;
    height: 34px;
    input[type="text"] {
      width: 10%;
      max-width: 10%;
      padding-right: 0;
    }
    .range {
      height: 34px;
      padding-left: 0;
      width: 90%;
      input[type="range"] {
        width: initial;
        padding-right: 0;
      }
    }
  }
}
.item-input.message-composer {
  margin-right: 16px;
  textarea {
    height: 70px;
  }
  .flex-icon-bar-wrap {
    padding: 10px 0;
  }
  .flex-icon-bar-wrap.new-tile {
    padding-left: 2px;
  }
}

ion-input {
  &.flex-item-wrap {
    // same as .item-stacked-label
    display:block;
    background-color: transparent;
    box-shadow: none;
  }
  .item-input-inset.flex-icon-bar {
    width:100%;
    padding: 0;
    > * {
      height: 34px;
      position:relative;
      @extend .padding-horizontal;
      &:first-child {
        margin-left: -$content-padding;
      }
      &:last-child {
        @extend .text-center;
      }
      & > .icon {
        height: 34px !important;
        // same as: .item-input .item-input-inset .item-input-wrapper .icon
        padding: 5px 4px;
        display: inline-block;
        vertical-align: middle;
      }
    }
    .item-input-wrapper {
      input {
        height: 100%;
        padding-right: 0;
      }
      .icon.auto-input {
        margin-right: -10px;
      }
    }
    .spinner-wrap {
      &.push-right {
        margin-right: -10px;
      }
      .ion-ios-arrow-forward {
        font-size: 24px;
      }
      .spinner svg {
        width: 20px;
        padding: 3px 0;
        vertical-align: middle;
      }
    }
  }
}

/*
 * auto-input directive
 */
.item-input {
  .item-input-inset  {
    .item-input-wrapper {
      .icon {
        height: 29px;
        padding: 5px 4px;
      }
    }
  }
}
// ion-modal-view scrollbar hack
//  native-scroll scroll-bar z-index is too low
.modal .overflow-scroll .scroll .item-input {
 padding-right: 8px;
}
/*
 * end auto-input
 */


/*
 * item-feed
 */
.feed {
  .list {
    background-color: #EEE;
  }
}

ion-item > a {
  cursor: pointer;
}


ion-item.item-notification {
  border-radius: 2px;
  border-width: 0;
  padding: 0;
  margin: 2px 2px 8px 4px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.7);
  .card {
    margin: 0;
  }
}
ion-item.item-post {
  padding: 0;
  border-radius: 2px;
  border-color: transparent;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.7);
  margin: 2px 2px 8px 4px;
  .item.item-avatar {
    border-color: transparent;
  }
  .item-body {
    padding-top: 0;
    > *:first-child {
      padding-top: 4px;
      margin-top: 0;
    }
  }
  .button-bar .button {
    font-size: 12px;
  }
  .time-ago {
    font-size: smaller;
    color: #888;
  }
  .host-actions .card {
    margin: auto 0;
  }

  .post-head {
    $header-padding-vertical: 8px;
    & {
      min-height: 56px;
      padding-top: $header-padding-vertical;
      padding-bottom: $header-padding-vertical;
    }
    img.item-image {
      top: $header-padding-vertical;
    }
    &.private {
      background-color: #ddd;
      margin: 2px 4px 0;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
    }
    .avatar-wrap.right > img {
      left: inherit;
    }
  }
  .post-body {
    .line-clamp {
      overflow: hidden;
    }
  }
  .post-actions {
    font-size: 12px;
    padding-bottom: 0;
    > * {
      border-bottom: 1px solid #ddd;
    }
    .likes {
      height: 24px;
      color: #888;
      a {
        text-decoration: none;
        cursor: pointer;
      }
      a:hover {
        text-decoration: underline;
      }
    }
  }
  .post-comments {
    margin: 0 14px 4px;
    padding: 0 2px;
    background-color: #f5f5f5;
    .comment-form, .post-comment {
      position: relative;
      margin-top: 8px;
      .avatar-wrap {
        position: absolute;
        top:0;
        padding: 2px 0;
        .item-image {
          height: 32px;
          width:32px;
        }
      }
      .comment {
        margin-left: 40px;
        padding-left: 4px;
        width: calc(100% - 40px);
      }
      .actions {
        padding: 4px 0;
      }
    }
    .post-comment {
      min-height: 32px;
      font-size: smaller;
    }
  }
  .host-actions {
    margin-top: 8px;
  }
}


/*
* end .item-feed
*/

.autocomplete-wrapper {
  $condensed-height: 28px;
  width: 100%;
  position:relative;
  .autocomplete-list {
    position:relative;;
    top:0;
    width: 100%;
    .item {
      height: $condensed-height;
      padding-top: 0;
      padding-bottom: 0;
    }
  }
}

// nested .list .item
.list .item  .list {
  padding: 0;
  .item {
    border: none;
    margin: auto -16px;
  }
}

.list.has-icon-avatar {
  // shrink .item-avatar padding, but keep avatar normal size
  .item-avatar {
    padding-left: 54px;
    min-height: 54px;
    > img:first-child, .item-image {
      top: 6px;
      left: 6px;
    }
  }
  &.condensed {
    // shrink .item-avatar to icon size
    .item-avatar {
      >img:first-child, .item-image {
        width: 32px;
        height: 32px;
        top: 11px;
        left: 11px;
      }
    }
  }
}

@media(max-width: $grid-responsive-sm-break) {
  .responsive-sm .col {
    margin-bottom: 0;
  }
}
// used by .event-detail .participants to show inline list of avatars
.item.item-avatar-list {
  min-height: 72px;
  .avatar-wrap {
    display: inline;
    margin-right: 10px;
    .item-image {
      max-width: 40px;
      max-height: 40px;
      border-radius: 50%;
    }
    .icon.item-image {
      font-size: 32px;
      background-color: white;
      border-width: 1px;
      box-shadow: 0 0 3px rgba(0, 0, 0, 0.8);
      width: 40px;
      height: 40px;
      display: inline-block;
      line-height: 40px;
      vertical-align: top;
    }
  }
}


ion-list.condensed, .list.condensed {
  .item {
    /* row spacing reduced by 1/2 */
    padding-top: 8px;
    padding-bottom: 8px;
    min-height: 32px;
  }
  .toggle {
    top: 6px;
    .track {
      height: 25px;
      .handle {
        height: 21px;
      };
    }
  }
  .item-radio {
    padding: 0;
  }
  .radio-content {
    .item-content {
      padding-top: 8px;
      padding-bottom: 8px;
      color: #444;
    }
    .radio-icon {
      padding: 0 14px;
    }
  }
  label.inline-field {
    padding-top: 0 !important;
    padding-bottom: 0 !important;
  }
}

ion-view .fab {
  background-color: $positive;
}

/* Begin required CSS., see: http://codepen.io/siiron/details/jfBhy  */
.line-clamp
{
  display            : block;
  display            : -webkit-box;
  -webkit-box-orient : vertical;
  position           : relative;

  line-height        : 1.2;
  overflow           : hidden;
  text-overflow      : ellipsis !important;
  padding            : 0 !important;
  white-space: normal !important;
}
.line-clamp:after
{
  content    : '...';
  text-align : right;
  bottom     : 0;
  right      : 0;
  width      : 25%;
  display    : block;
  position   : absolute;
  height     : calc(1em * 1.2);
  background : linear-gradient(to right, rgba(255, 255, 255, 0), rgba(255, 255, 255, 1) 75%);
}
@supports (-webkit-line-clamp: 1)
{
  .line-clamp:after
  {
    display : none !important;
  }
}
.line-clamp-1
{
  overflow           : hidden;
  text-overflow      : ellipsis !important;
  white-space: nowrap !important;
  /*-webkit-line-clamp : 1;*/
  /*height             : calc(1em * 1.2 * 1);*/

}
.line-clamp-2
{
  -webkit-line-clamp : 2;
  height             : calc(1em * 1.2 * 2);
}
.line-clamp-3
{
  -webkit-line-clamp : 3;
  height             : calc(1em * 1.2 * 3);
}
.line-clamp-4
{
  -webkit-line-clamp : 4;
  height             : calc(1em * 1.2 * 4);
}
.line-clamp-5
{
  -webkit-line-clamp : 5;
  height             : calc(1em * 1.2 * 5);
}
/* End required CSS. */

/*
 * placeholder.directive
 */
.bg-image {
  background-image: url('');
  background-position-x: 50%;
  background-position-y: 50%;
  background-size: cover;
  height: 100%;
  left: 0;
  position: absolute;
  top: 0;
  z-index: -1;
  width: 100%;
  &.fade {
    opacity: 0.85;
    filter: alpha(opacity=85);
  }
  &.mask {
    &:after {
      content: '';
      background: -webkit-linear-gradient(top, transparent 20%, rgba(0, 0, 0, 0.8) 100%);
      height: 100%;
      left: 0;
      position: absolute;
      top: 0;
      z-index: 0;
      width: 100%;
    }
  }
  &.mask-top {
    &:after {
      @extend .bg-image.mask:after;
      background: -webkit-linear-gradient(top, rgba(0, 0, 0, 0.8) 0%, transparent 80%);
    }
  }
}
.xxxbg-image:after {
  content:"";
  background-color: rgba(0,0,0,0.5);
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
}
/*
 * END: placeholder.directive
 */



/*
 * listSummaryDetail.directive
 */
list-item-container {
  &.condensed {
    .card {
      margin: 0;
    }
  }
  .list-item-detail {
    &.motion {
      display: inline-block;
      width: 100%;
      max-height: 500px;
      -webkit-backface-visibility: hidden !important;
      backface-visibility: hidden !important;
      -webkit-transition: max-height 300ms ease-out !important;
      transition: max-height 300ms ease-out !important;
      transform: translate3d(0, 0, 0) !important;
      overflow: hidden;
      &.slide-under{
        max-height: 0px;
      }
    }
  }
}


body.platform-browser  {
  list-item-container .list-item-summary {
    &.detail-view-active .list-item-wrap:not(.selected) {
      .item.summary {
        opacity: 0.8;
      }
      .item.summary:hover {
        opacity:1;
      }
    }
  }
}

.ng-repeat-grid {
  &.row {
    flex-wrap: wrap;
    .col.col-full, .col.col-100 {
      flex: none; /* hack for safari flex-wrap bug */
    }
    .col {
      margin-bottom: inherit;
    }
  }
  @media(min-width: $grid-responsive-sm-break) {
    .card a {
      max-height: 320px;
      height: 320px;
    }
  }
}
.col-60 {
  -webkit-box-flex: 0;
  -webkit-flex: 0 0 60%;
  -moz-box-flex: 0;
  -moz-flex: 0 0 60%;
  -ms-flex: 0 0 60%;
  flex: 0 0 60%;
  max-width: 60%;
}
.col-offset-25-right {
    margin-right: 25%;
}
.col-offset-33-right {
    margin-right: 33%;
}


/*
 * END listSummaryDetail.directive
 */


ion-side-menu > ion-content {
  background-color: #BBB;
}


#home {
  .tile-center {
    @extend .text-center;
    height: 50%;
  }
  .tile-right {
    @extend .text-right;
  }
  list-item-container {

    .blur {
      -webkit-filter: blur(5px);
      -moz-filter: blur(5px);
      -o-filter: blur(5px);
      -ms-filter: blur(5px);
      filter: blur(5px);
    }
    .item {
      border-color: transparent;
      &.card.summary {
        border: none;
      }
      .has-mask-wrap {
        /*vertical-align text to bottom because has-mask-reverse bug in ionicMaterial*/
        position: absolute;
        bottom: 10px;
        right: 10px;
        left: 10px;
        p {
          text-overflow: ellipsis;
        }
      }
      h1, h2, h3, h4, h5, h6 {
        color: #fff;
        font-weight: bold;
        position: relative;
        text-shadow: 0 0 3px rgba(0, 0, 0, 0.95);
        z-index: 1;
      }
      h2 {
        font-size: 24px;
      }
      p {
        color: rgba(255, 255, 255, 1);
        font-size: 17px;
        position: relative;
        text-shadow: 0 0 4px rgba(0, 0, 0, 0.95);
        z-index: 1;
      }
      .bg-image {

      }
    }
  }

}

/*
 * app.profile
 */



$hero-wrap-bg-height: 170px;
#profile, #menu-item {
  .hero-a {
    .hero-wrap {
      overflow: hidden;
      position: absolute;
      top: 0;
      right: 0;
      width: 100%;
      height: $hero-wrap-bg-height;
      .hero-bg {
        width: 100%;
        height: 100%;
        z-index: -1;
      }
      .icon-bar .button-clear {
        &.selected, &.activated {
          text-shadow: none;
        }
      }
    }
    .face {
      border-radius: 50%;
      border: 2px solid white;
      width: 200px;
      height: 200px;
      position: inherit;
      z-index: inherit;
    }
  }
}


.icon-bar {
  z-index: 1;
  background-color: rgba(16,16,16,0.3);
  &.condensed {
    @extend .no-padding;
  }
  &.bottom-toolbar {
    position: absolute;
    bottom: 0;
    right: 0;
  }
  &.top-right-toolbar {
    position: absolute;
    top: 0;
    right: 0;
  }
  .button {
    padding: 0 6px;
    height: 32px;
    line-height: 32px;
    min-height: 32px;
    min-width: 32px;
    &.larger {
      font-size: 24px;
      padding: 0 6px;
    }
    &:hover {
      background-color: rgba(16,16,16,0.3);
    }
    &.button-clear {
      opacity: 0.7;
      &.selected, &.activated {
        color: inherit;
        opacity: 1;
        text-shadow: 0 0 10px $light;
      }
    }
  }
}

.blur {
  -webkit-filter: blur(5px);
  -moz-filter: blur(5px);
  -o-filter: blur(5px);
  -ms-filter: blur(5px);
  filter: blur(5px);
}

 /* END app.profile */

/* tiles - summary view */
.strong {
  font-weight: 500;
}
.title {
  @extend .strong;
}


.tile.recipe {
  &.recipe {
    .body > * {
      line-height: 1.2em;
      margin-bottom: 2px;
    }
  }
  .selected & {
    .body {
      max-height:0;
      padding-top: 0;
      padding-bottom: 0;
      -webkit-transition: max-height 300ms ease-out !important;
      transition: max-height 300ms ease-out !important;
    }
  }
}
.tile.tile-detail {
  border: 1px solid #ddd;
  .item {
    min-height: inherit;
  }
}

.button-bar.condensed {
  @media(max-width: $grid-responsive-sm-break) {
    $condensed-height: 28px;
    & > .button {
      // max-height: 30px;
      min-height: $condensed-height;
      line-height: $condensed-height;
      &.button-icon:before, .icon:before {
        font-size: 16px;
        line-height: $condensed-height;
        vertical-align: initial;
      }
    }
  }
}

#new-tile-modal-view {
  .list {
    padding: 1px 3px 1px 5px;
    .preview {
      background-color: #444;
      .tile {border:none; transform: scale3d(0.8,0.8,1);}
    }
    .body {
      border: 1px solid #ddd;
      .patch-border {margin-right:-1px;}
      .item-stacked-label .input-label {
        font-size: smaller;
        color: darkgray;
        line-height: 17px;
        padding-top: 0;
      }
      ion-input.location {

      }
      .error {
        padding: 0 10px;
        border-top-color: red;
        border-top-width: 2px;
        border-top-style: solid;
      }
    }
  }
}


/*
   map-view-map
*/
.map-view-map {
  .map-marker-label-class {
    background-color: rgba(0,0,0,0.7);
    color: white;
    padding: 4px 8px;
    border-radius: 14px;
  }
}


/*  legacy  */
.has-mask {
  &:after {
    content: '';
    background: -webkit-linear-gradient(top, transparent 20%, rgba(0, 0, 0, 0.8) 100%);
    height: 100%;
    left: 0;
    position: absolute;
    top: 0;
    z-index: 0;
    width: 100%;
  }
}
.has-mask-reverse:after {
  @extend .has-mask:after;
  background: -webkit-linear-gradient(top, rgba(0, 0, 0, 0.8) 0%, transparent 80%);
}


/*
eventDetail View
 */

.event-detail {
  .col > ion-list > * > .item.item-divider {
    background-color: $royal;
    p, button {
      color: $light;
    }
  }
  .menu-items {
    .list-item-summary {
      .col {
        padding: 0;
      }
    }
    .hero {
      height: 100px;
    }
  }
  .details {
    .icon-inline-right {
      position: absolute;
      top: 0;
      right: 0;
      height: 54px;
      padding: 11px 0;
      .item-icon-right {
        padding-right: initial;
        .icon {
          right: 0;
          display: inline-flex;
          position: static;
        }
      }
    }
    .event-detail-map {
      border-color: transparent;
      .wrap, .angular-google-map-container {
        min-height: 200px;
      }
    }
  }
  .participants {
    .participant-list.line-clamp-1 {
      display: inline-flex;
    }
    .avatar-wrap .item-image.empty {
      border: 1px solid $dark;
    }
  }
  .share-links {
    .item-body {
      padding-right: 0;
    }
    .share-link {
      input {
        padding-right: 51px;
      }
      .fine {
        margin-top: -6px;
      }
    }
  }
  .invitations {
    .invitation-links {
      .truncate {
        width:100%;
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
      }
      .link-label {
        font-size: 14px;
      }
      .link-owner {
        width: 60%;
      }
    }
  }
}
